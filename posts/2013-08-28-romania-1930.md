---
layout: post
title: 'Romania 1930: multiplayer quiz game'
date: 2013-07-26 00:00:00
---

I'm currently writing a multiplayer quiz game. It will be like ConQUIZtador but more massive, urgent and eternal.

![image](http://media.tumblr.com/c1abe925f916f7c1e4866a2130aa6fc6/tumblr_inline_ms95iaDeSL1qz4rgp.png)

For those who don't know, ConQUIZtador is a Flash game (with multiple national variations) where three players fight by answering questions in order to control all the territories on the map. It's really addictive.

The inspiration for my game was the Wikipedia [literacy map for Romania in 1930](http://en.wikipedia.org/wiki/File:Romania_1930_literacy_EN.svg). The map is beautiful and has 322 territories which seams like the perfect number for what I want.

### User and developer pragmatism

I know enough now not to make the mistakes I've made in the past.

People aren't all going to be flocking in when it's done so when making a multiplayer game it's best to account for next to no players initially (if ever). My plan is to simply have a number of bots play among themselves at all time and players replace bots as they enter.

I'm not going to bother with registration, start buttons and all that crap. You open the browser tab and you play. That's what the web is all about. I'll do the rest later if it's ever needed.

As for the programming: have very few dependencies. Only Java and Python are required to be installed. Java for the server and Python for the building process and serving the HTTP files if no other is used.

Others aren't going to want to fiddle with the source if it means downloading and configuring a lot of things. Once you have Python and Java installed it shouldn't take more than three commands and a minute to download the source from GitHub, build it and have everything running.

### Making it

Before starting programming, gathering the map data required more processing than I expected. I had to:

*   identify the path and name for each zone;
*   compute the neighbors for each zone by checking if they share a long enough border;
*   compute the center of the zone (where the largest circle can fit);
*   optimize the paths by reducing the number of curves with Inkscape (very important for Firefox).

I used [Rapha&euml;l](http://raphaeljs.com/) and jQuery initially. I was aiming for the largest support, but SVG animation isn't as fast as I expected. It's slow in Chrome and a lot slower in Firefox. Rapha&euml;l can be nice, but it doesn't do that much, it messes with things it shouldn't and having another layer of sluggishness can't be justified.

Given that the DOM is going to hold me back the most, I also dropped jQuery. Now it's a pure JS project with no libs.

### Gameplay

The basics of the gameplay are as follows. When you access the web site, you replace a bot player and gain all his zones.

You can make any of your zones attack any neighboring zones. Zones which are attacking cannot be attacked, but you can gang up on zones already under attack.

When a zone is attacked, the players receive a four-answer question and have a given number of seconds to answer. The time depends on the number of questions the user already has to answer. If another player attacks the same zone, he receives the same question and has the same deadline to answer.

If more than one user answered correctly another question whose answer is a number follows. If more than one players got the correct answer, the fastest to respond is the winner.

At the end one zone changes its owner. If the attacked player wins, he gains the attacking zone, otherwise the winner gets the attacked zone.

I think this is an interesting dynamic. If you attack, your zone is immune to the attack of others, but you can lose it if the one you attack wins. If you attack an already attacked zone, you can win a zone without risking yours, but you have less time to answer if you're late.
